(this["webpackJsonpFrontend-Template"]=this["webpackJsonpFrontend-Template"]||[]).push([[10],{414:function(e,t){function n(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}e.exports={descendingComparator:n,getComparator:function(e,t){return"desc"===e?function(e,a){return n(e,a,t)}:function(e,a){return-n(e,a,t)}},stableSort:function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}}},469:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n(32),c=n(17),r=n(18),s=n(6),o=n(14),d=n.n(o),l=n(1),j=n.n(l),b=(n(116),n(361)),u=n(290),h=n(350),p=n(355),m=n(367),x=n(196),O=n(22),f=n(354),g=n(281),y=n(115),v=n(481),k=n(384),w=n(488),S=n(484),C=n(485),Q=n(195),I=n(482),L=n(486),T=n(487),N=n(489),A=n(471),H=n(414),K=n(362),P=n(132),R=n(419),D=n.n(R),E=n(490),B=n(189),_=n(478),F=n(415),J=n.n(F),W=n(0),q=[{id:"CheckBoxes",label:""},{id:"itemKey",label:"Item Key"},{id:"description",label:"Description"},{id:"lotNumber",label:"Lot Number"},{id:"expiration",label:"Lot Expiration"},{id:"qtyOnHand",label:"Qty on Hand"},{id:"prodQtyIssued",label:"Prod Qty Issued"},{id:"inTransitQty",label:"In Transit"},{id:"backupQty",label:"Backup"},{id:"pickedNotShippedQty",label:"Picked Not Shipped"},{id:"pickInventory",label:"Pick Inventory"},{id:"binsQty",label:"Bins"},{id:"adjustmentQty",label:"Adjustments"},{id:"comment",label:"Comments"}];t.default=function(e){var t=j.a.useState([]),n=Object(s.a)(t,2),o=n[0],R=n[1],F=j.a.useState("2"),z=Object(s.a)(F,2),U=z[0],V=z[1],G=j.a.useState("2120"),M=Object(s.a)(G,2),X=M[0],Y=M[1],Z=j.a.useState([]),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(l.useState)(!0),ae=Object(s.a)(ne,2),ie=ae[0],ce=ae[1],re=j.a.useState([]),se=Object(s.a)(re,2),oe=(se[0],se[1]),de=j.a.useState(null),le=Object(s.a)(de,2),je=le[0],be=le[1],ue=j.a.useState("asc"),he=Object(s.a)(ue,2),pe=he[0],me=he[1],xe=j.a.useState(""),Oe=Object(s.a)(xe,2),fe=Oe[0],ge=Oe[1],ye=Boolean(je),ve=j.a.useState(""),ke=Object(s.a)(ve,2),we=(ke[0],ke[1]),Se=j.a.useState(o),Ce=Object(s.a)(Se,2),Qe=Ce[0],Ie=Ce[1],Le=j.a.useState([]),Te=Object(s.a)(Le,2),Ne=Te[0],Ae=Te[1],He=j.a.useState([]),Ke=Object(s.a)(He,2),Pe=Ke[0],Re=Ke[1],De=j.a.useState(""),Ee=Object(s.a)(De,2),Be=Ee[0],_e=Ee[1],Fe=j.a.useState([]),Je=Object(s.a)(Fe,2),We=Je[0],qe=Je[1],ze=j.a.useState(!1),Ue=Object(s.a)(ze,2),Ve=Ue[0],Ge=Ue[1],Me=null!==localStorage.getItem("AdjustmentsColumns_For_Hiding")?localStorage.getItem("AdjustmentsColumns_For_Hiding").split(","):["a","b"];Object(l.useEffect)((function(){oe(Me)}),[]),Object(l.useEffect)((function(){}),[Ne]),Object(l.useEffect)((function(){}),[Pe]),Object(l.useEffect)(Object(r.a)(d.a.mark((function e(){var t,n,a,i,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("/common/getLocationCodeList","prssvl");case 2:if((t=e.sent).data){for(n=t.data,a=n.map(JSON.stringify),i=new Set(a),i=Array.from(i).map(JSON.parse),te(i),c=[],r=0;r<i.length;r++)c.push(i[r].LocationCode);qe(c)}case 4:case"end":return e.stop()}}),e)}))),[]),Object(l.useEffect)(Object(r.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,Object(O.a)("/InventoryAdjustments/getItemKeysAndAdjustmentDetailsForCycleCount?locationCodeId="+U);case 3:t=e.sent;try{t.data?(n=t.data,R(n),Ie(n),Ge({open:!0,message:"Records fetched successfully!",severity:"success",time:2e3})):(Ge({open:!0,message:"Something went wrong!!",severity:"error",time:5e3}),R([]),Ie([]))}catch(a){console.log(a),R([]),Ie([])}ce(!1);case 6:case"end":return e.stop()}}),e)}))),[U]);var Xe=function(e){Y(e);for(var t=0;t<ee.length;t++)if(ee[t].LocationCode===e){var n=ee[t].LocationId;V(n);break}},Ye=function(){var e=Object(r.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(fe===n&&"asc"===pe?"desc":"asc"),ge(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=Object(k.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:"white"},"&:nth-of-type(even)":{backgroundColor:"#eee"}}}}))(S.a),$e=Object(k.a)((function(e){return{root:{padding:"0px 16px"}}}))(C.a),et=function(e){return function(t){Ye(t,e)}},tt=function(){be(null),oe(Me)},nt=function(e){be(e.currentTarget)},at=function(e){Me.includes(e)?(Me.splice(Me.indexOf(e),1),localStorage.setItem("AdjustmentsColumns_For_Hiding",Me)):(Me.push(e),localStorage.setItem("AdjustmentsColumns_For_Hiding",Me)),oe(Me)},it=function(){var e=Object(r.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[],t=0;case 2:if(!(t<Ne.length)){e.next=16;break}n=0;case 4:if(!(n<o.length)){e.next=13;break}if(Ne[t]!==o[n].itemKey||0==o[n].adjustmentQty){e.next=10;break}return a=new Date,e.next=9,Object(O.c)("/InventoryAdjustments/insertAdjustmentHistoryRecord",{itemKey:o[n].itemKey,description:o[n].description,lotNumber:o[n].lotNumber,expiration:o[n].expiration.slice(0,10),qtyOnHand:o[n].qtyOnHand,prodQtyIssued:o[n].prodQtyIssued,inTransitQty:o[n].inTransitQty,backupQty:o[n].backupQty,pickedNotShippedQty:o[n].pickedNotShippedQty,pickInventory:o[n].pickInventory,binsQty:o[n].binsQty,adjustmentQty:o[n].adjustmentQty,comment:o[n].comment,adjustmentDateTime:a.toUTCString(),status:null});case 9:e.sent;case 10:n++,e.next=4;break;case 13:t++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ie?Object(W.jsx)(m.a,{id:"box",sx:{width:"100%"},children:Object(W.jsxs)(x.a,{id:"paper",elevation:0,sx:{width:"100%",mb:2},children:[Object(W.jsx)("br",{}),Object(W.jsxs)(g.a,{direction:{xs:"column",sm:"row"},sx:{mt:0},children:[Object(W.jsx)(h.a,{disablePortal:!0,value:X,onChange:function(e,t){Xe(t)},inputValue:Be,onInputChange:function(e,t){_e(t)},options:We,sx:{width:200,marginLeft:4,marginRight:4},renderInput:function(e){return Object(W.jsx)(p.a,Object(i.a)(Object(i.a)({},e),{},{label:"Location",variant:"standard"}))}}),Object(W.jsx)(u.a,{variant:"contained",sx:{minWidth:120,marginLeft:1,marginRight:2,height:40,marginTop:1},children:Object(W.jsx)("strong",{children:"ADJUST"})}),Object(W.jsxs)(g.a,{sx:{marginLeft:"auto"},direction:{xs:"column",sm:"row"},children:[Object(W.jsx)(b.a,{className:"SearchBar",sx:{marginLeft:"auto",marginRight:1,marginTop:1,width:230},children:Object(W.jsx)(p.a,{variant:"standard",size:"small",placeholder:"Search",InputProps:{endAdornment:Object(W.jsx)(v.a,{children:Object(W.jsx)(K.a,{children:Object(W.jsx)(J.a,{})})})}})}),Object(W.jsx)(u.a,{sx:{marginLeft:"auto",marginTop:0,marginRight:2},onClick:nt,children:Object(W.jsx)(D.a,{})})]})]}),Object(W.jsx)(B.a,{anchorEl:je,open:ye,onClose:tt,children:q.slice(1).map((function(e){return Object(W.jsx)(f.a,{children:Object(W.jsx)(E.a,{control:Object(W.jsx)(_.a,{size:"small",checked:!Me.includes(e.label),onChange:function(){return at(e.label)}}),label:e.label})},e.label)}))}),Object(W.jsx)("div",{style:Object(a.a)({overflow:"hidden",textOverflow:"ellipsis",width:"11rem"},"width","auto"),children:Object(W.jsx)(m.a,{component:"div",sx:{textOverflow:"clip",overflow:"hidden",m:3},children:Object(W.jsxs)(L.a,{sx:{maxHeight:440},children:[Object(W.jsx)(T.a,{stickyHeader:!0,"aria-label":"sticky table",children:Object(W.jsx)(w.a,{children:Object(W.jsx)(Ze,{children:q.filter((function(e){return 0==Me.includes(e.label)})).map((function(e){return Object(W.jsx)($e,{style:{fontWeight:"bold"},sortDirection:fe===e.id&&pe,children:Object(W.jsxs)(I.a,{active:fe===e.id,direction:fe===e.id?pe:"asc",onClick:et(e.id),sx:{color:"black",fontWeight:"bold"},children:[Object(W.jsx)(Q.a,{variant:"body",children:e.label}),fe===e.id?Object(W.jsx)(m.a,{component:"span",sx:A.a,children:"desc"===pe?"sorted descending":"sorted ascending"}):null]})},e.id)}))})})}),Object(W.jsx)(y.a,{})]})})})]})}):Object(W.jsxs)(m.a,{id:"box",sx:{width:"100%"},children:[Ve.open&&Object(W.jsx)(P.a,{open:Ve.open,close:Ge,message:Ve.message,severity:Ve.severity,time:Ve.time}),Object(W.jsxs)(x.a,{id:"paper",elevation:0,sx:{width:"100%",mb:2},children:[Object(W.jsx)("br",{}),Object(W.jsxs)(g.a,{direction:{xs:"column",sm:"row"},sx:{mt:0},children:[Object(W.jsx)(h.a,{disablePortal:!0,value:X,onChange:function(e,t){Xe(t)},inputValue:Be,onInputChange:function(e,t){_e(t)},options:We,sx:{width:200,marginLeft:4,marginRight:4},renderInput:function(e){return Object(W.jsx)(p.a,Object(i.a)(Object(i.a)({},e),{},{label:"Location",variant:"standard"}))}}),Object(W.jsx)(u.a,{variant:"contained",onClick:function(){it()},sx:{minWidth:120,marginLeft:1,marginRight:2,height:40,marginTop:1},children:Object(W.jsx)("strong",{children:"ADJUST"})}),Object(W.jsxs)(g.a,{sx:{marginLeft:"auto"},direction:{xs:"column",sm:"row"},children:[Object(W.jsx)(b.a,{className:"SearchBar",sx:{marginLeft:"auto",marginRight:1,marginTop:1,width:230},children:Object(W.jsx)(p.a,{variant:"standard",size:"small",placeholder:"Search",onChange:function(e){if(""!=e.target.value){we(e.target.value);var t=o.filter((function(t){return Object.keys(t).some((function(n){return String(t[n]).toLowerCase().includes(e.target.value.toLowerCase())}))}));Ie(Object(c.a)(t))}else we(e.target.value)},InputProps:{endAdornment:Object(W.jsx)(v.a,{children:Object(W.jsx)(K.a,{children:Object(W.jsx)(J.a,{})})})}})}),Object(W.jsx)(u.a,{sx:{marginLeft:"auto",marginTop:0,marginRight:2},onClick:nt,children:Object(W.jsx)(D.a,{})})]})]}),Object(W.jsx)(B.a,{anchorEl:je,open:ye,onClose:tt,children:q.slice(1).map((function(e){return Object(W.jsx)(f.a,{children:Object(W.jsx)(E.a,{control:Object(W.jsx)(_.a,{size:"small",checked:!Me.includes(e.label),onChange:function(){return at(e.label)}}),label:e.label})},e.label)}))}),Object(W.jsx)("div",{style:Object(a.a)({overflow:"hidden",textOverflow:"ellipsis",width:"11rem"},"width","auto"),children:Object(W.jsx)(m.a,{component:"div",sx:{textOverflow:"clip",overflow:"hidden",m:3},children:Object(W.jsx)(L.a,{sx:{maxHeight:440},children:Object(W.jsxs)(T.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(W.jsx)(w.a,{children:Object(W.jsx)(Ze,{children:q.filter((function(e){return 0==Me.includes(e.label)})).map((function(e){return Object(W.jsx)($e,{style:{fontWeight:"bold"},sortDirection:fe===e.id&&pe,children:Object(W.jsxs)(I.a,{active:fe===e.id,direction:fe===e.id?pe:"asc",onClick:et(e.id),sx:{color:"black",fontWeight:"bold"},children:[Object(W.jsx)(Q.a,{variant:"body",children:e.label}),fe===e.id?Object(W.jsx)(m.a,{component:"span",sx:A.a,children:"desc"===pe?"sorted descending":"sorted ascending"}):null]})},e.id)}))})}),Object(W.jsx)(N.a,{children:Object(H.stableSort)(Qe,Object(H.getComparator)(pe,fe)).map((function(e){return Object(W.jsxs)(Ze,{hover:!0,children:[Object(W.jsx)(C.a,{padding:"checkbox",children:Object(W.jsx)(_.a,{checked:!!Ne.includes(e.itemKey),onChange:function(){!function(e){if(Re([]),Ne.includes(e)){var t=Ne,n=t.indexOf(e);n>-1&&t.splice(n,1),Ae(t)}else{var a=[].concat(Object(c.a)(Ne),[e]);Ae(a)}}(e.itemKey)}})}),0==Me.includes("Item Key")&&Object(W.jsx)($e,{children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.itemKey})},"itemKey"),0==Me.includes("Description")&&Object(W.jsx)($e,{children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.description})},"description"),0==Me.includes("Lot Number")&&Object(W.jsx)($e,{children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.lotNumber})},"lotNumber"),0==Me.includes("Lot Expiration")&&Object(W.jsx)($e,{children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.expiration.slice(0,10)})},"expiration"),0==Me.includes("Qty on Hand")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.qtyOnHand})},"qtyOnHand"),0==Me.includes("Prod Qty Issued")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.prodQtyIssued})},"prodQtyIssued"),0==Me.includes("In Transit")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.inTransitQty})},"inTransitQty"),0==Me.includes("Backup")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.backupQty})},"backupQty"),0==Me.includes("Picked Not Shipped")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.pickedNotShippedQty})},"pickedNotShippedQty"),0==Me.includes("Pick Inventory")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.pickInventory})},"pickInventory"),0==Me.includes("Bins")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.binsQty})},"binsQty"),0==Me.includes("Adjustments")&&Object(W.jsx)($e,{align:"right",children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.adjustmentQty})},"adjustmentQty"),0==Me.includes("Comments")&&Object(W.jsx)($e,{children:Object(W.jsx)(Q.a,{component:"span",variant:"body1",children:e.comment})},"comment")]})}))})]})})})})]})]})}}}]);
//# sourceMappingURL=10.c55fb5e3.chunk.js.map