(this["webpackJsonpFrontend-Template"]=this["webpackJsonpFrontend-Template"]||[]).push([[7],{383:function(e,t,a){"use strict";var n=a(32),o=a(18),c=a(6),r=a(14),s=a.n(r),i=a(1),l=a.n(i),d=(a(53),a(290)),u=a(194),j=a(20),p=a(22),b=a(132),m=a(0);t.a=function(e){var t=Object(i.useState)({open:!1}),a=Object(c.a)(t,2),r=a[0],x=a[1];if(!e.reportId)throw new Error("Import Button requires reportType prop");var O=Object(i.useState)(""),h=Object(c.a)(O,2),f=h[0],v=h[1],C=Object(i.useState)(!1),w=Object(c.a)(C,2),g=w[0],L=w[1],D=Object(j.a)(),y=function(){var t=Object(o.a)(s.a.mark((function t(a){var o,c,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(!0),t.prev=1,t.next=4,Object(p.b)(f);case 4:(o=t.sent).data&&(c=new Date,(r=document.createElement("a")).href="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,"+o.data,r.download="".concat(e.reportId,"_").concat(c.toLocaleString(),".xlsx"),r.click(),x({open:!0,message:"File Downloaded Successfully",severity:"success",time:1500})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(Object(n.a)({},t.t0)),i={open:!0,message:t.t0.response.data.message,severity:"error",time:null},x(i);case 13:L(!1);case 14:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){for(var t=e.data,a=Object.keys(t),n=Object.values(t),o="".concat("http://localhost:3001/dev","/ExportImport/export?reportId=").concat(e.reportId),c=0;c<a.length;c++)o=(o+="&")+a[c]+"="+n[c];console.log(o),v(o)}),[e]),Object(m.jsxs)(l.a.Fragment,{children:[r.open&&Object(m.jsx)(b.a,{open:r.open,close:x,time:r.time,message:r.message,severity:r.severity}),Object(m.jsxs)(d.a,{fullWidth:!0,variant:"contained",onClick:y,component:"span",children:[!g&&"Export",g&&"Downloading...",g&&Object(m.jsx)(u.a,{size:24,sx:{color:"".concat(D.palette.secondary.main),position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})}},472:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(32),o=a(18),c=a(6),r=a(14),s=a.n(r),i=a(1),l=a.n(i),d=a(367),u=a(196),j=a(351),p=a(356),b=a(354),m=a(361),x=a(281),O=a(355),h=a(22),f=a(473),v=a(422),C=a(474),w=a(383),g=a(420),L=a.n(g),D=a(0);function y(){var e=l.a.useState(""),t=Object(c.a)(e,2),a=t[0],r=t[1],g=l.a.useState([]),y=Object(c.a)(g,2),Y=y[0],I=y[1],S=l.a.useState(null),k=Object(c.a)(S,2),z=k[0],F=k[1],T=l.a.useState(L()(new Date).format("YYYY-MM-DD")),E=Object(c.a)(T,2),M=E[0],A=E[1],J=l.a.useState([" "]),q=Object(c.a)(J,2);q[0],q[1];Object(i.useEffect)(Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)("/common/getLocationCodeList","prssvl");case 2:(t=e.sent).data&&(a=t.data,I(a));case 4:case"end":return e.stop()}}),e)}))),[]);var B=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H={LocationCode:a,FromDate:z,ToDate:M};return Object(D.jsx)(d.a,{sx:{m:1},children:Object(D.jsx)("div",{children:Object(D.jsx)(u.a,{elevation:0,sx:{width:"100%",m:1},children:Object(D.jsxs)(x.a,{direction:"row",sx:{mt:5},children:[Object(D.jsxs)(m.a,{sx:{m:1,width:"200px"},size:"small",children:[Object(D.jsx)(p.a,{label:"LocationCode",children:"LocationCode"}),Object(D.jsxs)(j.a,{name:"LocationCode",role:"ChooseLocationCode",labelId:"LocationCodes",id:"LocationCodes",value:a,label:"LocationCode",onChange:B,children:[Object(D.jsx)(b.a,{value:"",children:Object(D.jsx)("em",{children:"All LocationCodes"})},"LocationCode"),Y.map((function(e){return Object(D.jsx)(b.a,{value:e.LocationCode,children:e.LocationCode},e.LocationCode)}))]})]}),Object(D.jsx)(m.a,{sx:{m:1,width:"200px"},role:"ChooseFromDate",name:"FromDate",size:"small",children:Object(D.jsx)(v.a,{dateAdapter:f.a,children:Object(D.jsx)(C.a,{size:"small",label:"From",value:z,onChange:function(e){var t=L()(e).format("YYYY-MM-DD");F(t)},renderInput:function(e){return Object(D.jsx)(O.a,Object(n.a)({size:"small"},e))}})})}),Object(D.jsx)(m.a,{sx:{m:1,width:"200px"},role:"ChooseToDate",size:"small",children:Object(D.jsx)(v.a,{dateAdapter:f.a,children:Object(D.jsx)(C.a,{size:"small",label:"To",value:M,onChange:function(e){var t=L()(e).format("YYYY-MM-DD");A(t)},renderInput:function(e){return Object(D.jsx)(O.a,Object(n.a)({size:"small"},e))}})})}),Object(D.jsx)(m.a,{sx:{m:1,width:"200px"},size:"small",children:Object(D.jsx)(w.a,{reportId:"CycleCountHistory",data:H})})]})})})})}}}]);
//# sourceMappingURL=7.56c40282.chunk.js.map